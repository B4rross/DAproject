<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>An Analysis Tool for Railway Network Management: CPheadquarters Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">An Analysis Tool for Railway Network Management<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classCPheadquarters.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCPheadquarters-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">CPheadquarters Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1b30abce15a6dfd96accda97b03754bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a1b30abce15a6dfd96accda97b03754bf">read_network</a> (string path)</td></tr>
<tr class="memdesc:a1b30abce15a6dfd96accda97b03754bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the file network.csv when given the path to the file and stores the information in a <a class="el" href="classGraph.html">Graph</a>.  <br /></td></tr>
<tr class="separator:a1b30abce15a6dfd96accda97b03754bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b5838ab4d2b8475e606567c075e63d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a32b5838ab4d2b8475e606567c075e63d">read_stations</a> (string path)</td></tr>
<tr class="memdesc:a32b5838ab4d2b8475e606567c075e63d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the files stations.csv when given the path to the file and stores the information in an unordered_map.  <br /></td></tr>
<tr class="separator:a32b5838ab4d2b8475e606567c075e63d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642d65a12c17e62eac74604b9e27ae2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a642d65a12c17e62eac74604b9e27ae2b">read_files</a> ()</td></tr>
<tr class="memdesc:a642d65a12c17e62eac74604b9e27ae2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the files network.csv and stations.csv and stores the information in the <a class="el" href="classGraph.html">Graph</a> and unordered_map.  <br /></td></tr>
<tr class="separator:a642d65a12c17e62eac74604b9e27ae2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a782036a2216e3ad38ce4779be1c5154a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGraph.html">Graph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a782036a2216e3ad38ce4779be1c5154a">getLines</a> () const</td></tr>
<tr class="memdesc:a782036a2216e3ad38ce4779be1c5154a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="classGraph.html">Graph</a> object.  <br /></td></tr>
<tr class="separator:a782036a2216e3ad38ce4779be1c5154a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6213807edb09bc22683a415f7a9a0f9d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a6213807edb09bc22683a415f7a9a0f9d">T2_1maxflow</a> (string station_A, string station_B)</td></tr>
<tr class="memdesc:a6213807edb09bc22683a415f7a9a0f9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the maximum number of trains that can simultaneously travel between two specific stations.  <br /></td></tr>
<tr class="separator:a6213807edb09bc22683a415f7a9a0f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3b9e281179f49e9ce567bd125461d20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#aa3b9e281179f49e9ce567bd125461d20">T2_2maxflowAllStations</a> ()</td></tr>
<tr class="memdesc:aa3b9e281179f49e9ce567bd125461d20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines from all pairs of stations, which ones (if more than one) require the most amount of trains when taking full advantage of the existing network capacity.  <br /></td></tr>
<tr class="separator:aa3b9e281179f49e9ce567bd125461d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e3da4bc26c50af976c6e30407021b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a26e3da4bc26c50af976c6e30407021b7">T2_3municipality</a> ()</td></tr>
<tr class="memdesc:a26e3da4bc26c50af976c6e30407021b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates where management should assign larger budgets for the purchasing and maintenance of trains.  <br /></td></tr>
<tr class="separator:a26e3da4bc26c50af976c6e30407021b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85069697de87b00d4d3f7fc613f62b78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a85069697de87b00d4d3f7fc613f62b78">T2_3district</a> ()</td></tr>
<tr class="memdesc:a85069697de87b00d4d3f7fc613f62b78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates where management should assign larger budgets for the purchasing and maintenance of trains.  <br /></td></tr>
<tr class="separator:a85069697de87b00d4d3f7fc613f62b78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb0b662117e73cb53720f46b6fc3bf6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a5cb0b662117e73cb53720f46b6fc3bf6">T2_4maxArrive</a> (string destination)</td></tr>
<tr class="memdesc:a5cb0b662117e73cb53720f46b6fc3bf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports the maximum number of trains that can simultaneously arrive at a given station, taking into consideration the entire railway grid.  <br /></td></tr>
<tr class="separator:a5cb0b662117e73cb53720f46b6fc3bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1b9e408842662e3c28697e4d9cc226"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a6d1b9e408842662e3c28697e4d9cc226">T3_1MinCost</a> (string source, string destination)</td></tr>
<tr class="memdesc:a6d1b9e408842662e3c28697e4d9cc226"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the maximum amount of trains that can simultaneously travel between two specific stations with minimum cost for the company steps: *1 - find all possible paths between source and destination *2 - define the optimal path, that is, has minimum cost per train.  <br /></td></tr>
<tr class="separator:a6d1b9e408842662e3c28697e4d9cc226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53554354a91a10acf0a20ef933f1efd0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a53554354a91a10acf0a20ef933f1efd0">T4_1ReducedConectivity</a> (vector&lt; string &gt; unwantedEdges, string s, string t)</td></tr>
<tr class="memdesc:a53554354a91a10acf0a20ef933f1efd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the maximum number of trains that can simultaneously travel between two specific stations in a network of reduced connectivity.  <br /></td></tr>
<tr class="separator:a53554354a91a10acf0a20ef933f1efd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d3e65a98af094685b18a8fe8829270"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a77d3e65a98af094685b18a8fe8829270">T4_2Top_K_ReducedConectivity</a> (vector&lt; string &gt; unwantedEdges)</td></tr>
<tr class="memdesc:a77d3e65a98af094685b18a8fe8829270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a report on the stations that are the most affected by each segment failure, i.e., the top-k most affected stations for each segment to be considered.  <br /></td></tr>
<tr class="separator:a77d3e65a98af094685b18a8fe8829270"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="CPheadquarters_8h_source.html#l00014">14</a> of file <a class="el" href="CPheadquarters_8h_source.html">CPheadquarters.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a782036a2216e3ad38ce4779be1c5154a" name="a782036a2216e3ad38ce4779be1c5154a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a782036a2216e3ad38ce4779be1c5154a">&#9670;&#160;</a></span>getLines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGraph.html">Graph</a> CPheadquarters::getLines </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the <a class="el" href="classGraph.html">Graph</a> object. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classGraph.html">Graph</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00144">144</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  144</span>                                     {</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">return</span> this-&gt;lines;</div>
<div class="line"><span class="lineno">  146</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a642d65a12c17e62eac74604b9e27ae2b" name="a642d65a12c17e62eac74604b9e27ae2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a642d65a12c17e62eac74604b9e27ae2b">&#9670;&#160;</a></span>read_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CPheadquarters::read_files </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the files network.csv and stations.csv and stores the information in the <a class="el" href="classGraph.html">Graph</a> and unordered_map. </p>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00077">77</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   77</span>                                {</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>    <span class="comment">//--------------------------------------------Read network.csv--------------------------------------------</span></div>
<div class="line"><span class="lineno">   80</span>    std::ifstream inputFile1(R<span class="stringliteral">&quot;(../network.csv)&quot;);</span></div>
<div class="line"><span class="lineno">   81</span><span class="stringliteral">    </span><span class="keywordtype">string</span> line1;</div>
<div class="line"><span class="lineno">   82</span>    std::getline(inputFile1, line1); <span class="comment">// ignore first line</span></div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">while</span> (getline(inputFile1, line1, <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>        <span class="keywordflow">if</span> (!line1.empty() &amp;&amp; line1.back() == <span class="charliteral">&#39;\r&#39;</span>) { <span class="comment">// Check if the last character is &#39;\r&#39;</span></div>
<div class="line"><span class="lineno">   86</span>            line1.pop_back(); <span class="comment">// Remove the &#39;\r&#39; character</span></div>
<div class="line"><span class="lineno">   87</span>        }</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordtype">string</span> station_A;</div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordtype">string</span> station_B;</div>
<div class="line"><span class="lineno">   91</span>        <span class="keywordtype">string</span> temp;</div>
<div class="line"><span class="lineno">   92</span>        <span class="keywordtype">int</span> capacity;</div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordtype">string</span> service;</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>        stringstream inputString(line1);</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>        getline(inputString, station_A, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   98</span>        getline(inputString, station_B, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   99</span>        getline(inputString, temp, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  100</span>        getline(inputString, service, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>        capacity = stoi(temp);</div>
<div class="line"><span class="lineno">  103</span>        lines.<a class="code hl_function" href="classGraph.html#aa265fe199ebbac978b8a954ea754b0c2">addVertex</a>(station_A);</div>
<div class="line"><span class="lineno">  104</span>        lines.<a class="code hl_function" href="classGraph.html#aa265fe199ebbac978b8a954ea754b0c2">addVertex</a>(station_B);</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>        lines.<a class="code hl_function" href="classGraph.html#aa43465e582bec0296ba81cc16b3bf8ab">addEdge</a>(station_A, station_B, capacity, service);</div>
<div class="line"><span class="lineno">  107</span>    }</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>    <span class="comment">//--------------------------------------------Read stations.csv--------------------------------------------</span></div>
<div class="line"><span class="lineno">  111</span>    std::ifstream inputFile2(R<span class="stringliteral">&quot;(../stations.csv)&quot;);</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">    </span><span class="keywordtype">string</span> line2;</div>
<div class="line"><span class="lineno">  113</span>    std::getline(inputFile2, line2); <span class="comment">// ignore first line</span></div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">while</span> (getline(inputFile2, line2, <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>        <span class="keywordflow">if</span> (!line1.empty() &amp;&amp; line1.back() == <span class="charliteral">&#39;\r&#39;</span>) { <span class="comment">// Check if the last character is &#39;\r&#39;</span></div>
<div class="line"><span class="lineno">  118</span>            line1.pop_back(); <span class="comment">// Remove the &#39;\r&#39; character</span></div>
<div class="line"><span class="lineno">  119</span>        }</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordtype">string</span> nome;</div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordtype">string</span> distrito;</div>
<div class="line"><span class="lineno">  123</span>        <span class="keywordtype">string</span> municipality;</div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordtype">string</span> township;</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordtype">string</span> line;</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>        stringstream inputString(line2);</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>        getline(inputString, nome, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  130</span>        getline(inputString, distrito, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  131</span>        getline(inputString, municipality, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  132</span>        getline(inputString, township, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  133</span>        getline(inputString, line, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>        <a class="code hl_class" href="classStation.html">Station</a> station(nome, distrito, municipality, township, line);</div>
<div class="line"><span class="lineno">  136</span>        stations[nome] = station;</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>        <span class="comment">// print information about the station, to make sure it was imported correctly</span></div>
<div class="line"><span class="lineno">  139</span>        <span class="comment">//cout &lt;&lt; &quot;station: &quot; &lt;&lt; nome &lt;&lt; &quot; distrito: &quot; &lt;&lt; distrito &lt;&lt; &quot; municipality: &quot; &lt;&lt; municipality &lt;&lt; &quot; township: &quot; &lt;&lt; township &lt;&lt; &quot; line: &quot; &lt;&lt; line &lt;&lt; endl;</span></div>
<div class="line"><span class="lineno">  140</span>    }</div>
<div class="line"><span class="lineno">  141</span>}</div>
<div class="ttc" id="aclassGraph_html_aa265fe199ebbac978b8a954ea754b0c2"><div class="ttname"><a href="classGraph.html#aa265fe199ebbac978b8a954ea754b0c2">Graph::addVertex</a></div><div class="ttdeci">bool addVertex(const std::string &amp;id)</div><div class="ttdoc">Adds a vertex with a given content or info (in) to a graph (this).</div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00026">Graph.cpp:26</a></div></div>
<div class="ttc" id="aclassGraph_html_aa43465e582bec0296ba81cc16b3bf8ab"><div class="ttname"><a href="classGraph.html#aa43465e582bec0296ba81cc16b3bf8ab">Graph::addEdge</a></div><div class="ttdeci">bool addEdge(const std::string &amp;sourc, const std::string &amp;dest, int w, const std::string &amp;service)</div><div class="ttdoc">Adds an edge to a graph (this), given the contents of the source and destination vertices and the edg...</div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00034">Graph.cpp:34</a></div></div>
<div class="ttc" id="aclassStation_html"><div class="ttname"><a href="classStation.html">Station</a></div><div class="ttdef"><b>Definition:</b> <a href="classStation.html#l00012">Station.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b30abce15a6dfd96accda97b03754bf" name="a1b30abce15a6dfd96accda97b03754bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b30abce15a6dfd96accda97b03754bf">&#9670;&#160;</a></span>read_network()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CPheadquarters::read_network </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the file network.csv when given the path to the file and stores the information in a <a class="el" href="classGraph.html">Graph</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00013">13</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   13</span>                                            {</div>
<div class="line"><span class="lineno">   14</span>    std::ifstream inputFile1(path);</div>
<div class="line"><span class="lineno">   15</span>    <span class="keywordtype">string</span> line1;</div>
<div class="line"><span class="lineno">   16</span>    std::getline(inputFile1, line1); <span class="comment">// ignore first line</span></div>
<div class="line"><span class="lineno">   17</span>    <span class="keywordflow">while</span> (getline(inputFile1, line1, <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line"><span class="lineno">   18</span> </div>
<div class="line"><span class="lineno">   19</span>        <span class="keywordflow">if</span> (!line1.empty() &amp;&amp; line1.back() == <span class="charliteral">&#39;\r&#39;</span>) { <span class="comment">// Check if the last character is &#39;\r&#39;</span></div>
<div class="line"><span class="lineno">   20</span>            line1.pop_back(); <span class="comment">// Remove the &#39;\r&#39; character</span></div>
<div class="line"><span class="lineno">   21</span>        }</div>
<div class="line"><span class="lineno">   22</span> </div>
<div class="line"><span class="lineno">   23</span>        <span class="keywordtype">string</span> station_A;</div>
<div class="line"><span class="lineno">   24</span>        <span class="keywordtype">string</span> station_B;</div>
<div class="line"><span class="lineno">   25</span>        <span class="keywordtype">string</span> temp;</div>
<div class="line"><span class="lineno">   26</span>        <span class="keywordtype">int</span> capacity;</div>
<div class="line"><span class="lineno">   27</span>        <span class="keywordtype">string</span> service;</div>
<div class="line"><span class="lineno">   28</span> </div>
<div class="line"><span class="lineno">   29</span>        stringstream inputString(line1);</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>        getline(inputString, station_A, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   32</span>        getline(inputString, station_B, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   33</span>        getline(inputString, temp, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   34</span>        getline(inputString, service, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>        capacity = stoi(temp);</div>
<div class="line"><span class="lineno">   37</span>        lines.<a class="code hl_function" href="classGraph.html#aa265fe199ebbac978b8a954ea754b0c2">addVertex</a>(station_A);</div>
<div class="line"><span class="lineno">   38</span>        lines.<a class="code hl_function" href="classGraph.html#aa265fe199ebbac978b8a954ea754b0c2">addVertex</a>(station_B);</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>        lines.<a class="code hl_function" href="classGraph.html#aa43465e582bec0296ba81cc16b3bf8ab">addEdge</a>(station_A, station_B, capacity, service);</div>
<div class="line"><span class="lineno">   41</span>    }</div>
<div class="line"><span class="lineno">   42</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a32b5838ab4d2b8475e606567c075e63d" name="a32b5838ab4d2b8475e606567c075e63d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b5838ab4d2b8475e606567c075e63d">&#9670;&#160;</a></span>read_stations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CPheadquarters::read_stations </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the files stations.csv when given the path to the file and stores the information in an unordered_map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00044">44</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   44</span>                                             {</div>
<div class="line"><span class="lineno">   45</span>    std::ifstream inputFile2(R<span class="stringliteral">&quot;(../stations.csv)&quot;);</span></div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">    </span><span class="keywordtype">string</span> line2;</div>
<div class="line"><span class="lineno">   47</span>    std::getline(inputFile2, line2); <span class="comment">// ignore first line</span></div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">while</span> (getline(inputFile2, line2, <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>        <span class="keywordflow">if</span> (!line2.empty() &amp;&amp; line2.back() == <span class="charliteral">&#39;\r&#39;</span>) { <span class="comment">// Check if the last character is &#39;\r&#39;</span></div>
<div class="line"><span class="lineno">   52</span>            line2.pop_back(); <span class="comment">// Remove the &#39;\r&#39; character</span></div>
<div class="line"><span class="lineno">   53</span>        }</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>        <span class="keywordtype">string</span> nome;</div>
<div class="line"><span class="lineno">   56</span>        <span class="keywordtype">string</span> distrito;</div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordtype">string</span> municipality;</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordtype">string</span> township;</div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordtype">string</span> line;</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>        stringstream inputString(line2);</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>        getline(inputString, nome, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   64</span>        getline(inputString, distrito, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   65</span>        getline(inputString, municipality, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   66</span>        getline(inputString, township, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   67</span>        getline(inputString, line, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>        <a class="code hl_class" href="classStation.html">Station</a> station(nome, distrito, municipality, township, line);</div>
<div class="line"><span class="lineno">   70</span>        stations[nome] = station;</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>        <span class="comment">// print information about the station, to make sure it was imported correctly</span></div>
<div class="line"><span class="lineno">   73</span>        <span class="comment">//cout &lt;&lt; &quot;station: &quot; &lt;&lt; nome &lt;&lt; &quot; distrito: &quot; &lt;&lt; distrito &lt;&lt; &quot; municipality: &quot; &lt;&lt; municipality &lt;&lt; &quot; township: &quot; &lt;&lt; township &lt;&lt; &quot; line: &quot; &lt;&lt; line &lt;&lt; endl;</span></div>
<div class="line"><span class="lineno">   74</span>    }</div>
<div class="line"><span class="lineno">   75</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6213807edb09bc22683a415f7a9a0f9d" name="a6213807edb09bc22683a415f7a9a0f9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6213807edb09bc22683a415f7a9a0f9d">&#9670;&#160;</a></span>T2_1maxflow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T2_1maxflow </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>station_A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>station_B</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the maximum number of trains that can simultaneously travel between two specific stations. </p>
<p>Takes any valid source and destination stations as input </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stationA</td><td></td></tr>
    <tr><td class="paramname">stationB</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>maxFlow </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00149">149</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  149</span>                                                                {</div>
<div class="line"><span class="lineno">  150</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *source = lines.<a class="code hl_function" href="classGraph.html#a12666658321af4855f1ad691b9840987">findVertex</a>(stationA); <span class="comment">// set source vertex</span></div>
<div class="line"><span class="lineno">  151</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *sink = lines.<a class="code hl_function" href="classGraph.html#a12666658321af4855f1ad691b9840987">findVertex</a>(stationB); <span class="comment">// set sink vertex</span></div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    <span class="comment">// Check if these stations even exist</span></div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">if</span> (source == <span class="keyword">nullptr</span> || sink == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  155</span>        std::cerr &lt;&lt; <span class="stringliteral">&quot;Source or sink vertex not found.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  157</span>    }</div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordtype">int</span> maxFlow = lines.<a class="code hl_function" href="classGraph.html#a913921c4491b06f64de526e50d1d0434">edmondsKarp</a>(stationA, stationB);</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordflow">if</span> (maxFlow == 0) {</div>
<div class="line"><span class="lineno">  161</span>        cerr &lt;&lt; <span class="stringliteral">&quot;Stations are not connected. Try stationB to stationA instead. &quot;</span> &lt;&lt; stationB &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; stationA</div>
<div class="line"><span class="lineno">  162</span>             &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  163</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  164</span>        cout &lt;&lt; <span class="stringliteral">&quot;maxFlow:\t&quot;</span> &lt;&lt; maxFlow &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  165</span>    }</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">return</span> maxFlow;</div>
<div class="line"><span class="lineno">  168</span>}</div>
<div class="ttc" id="aclassGraph_html_a12666658321af4855f1ad691b9840987"><div class="ttname"><a href="classGraph.html#a12666658321af4855f1ad691b9840987">Graph::findVertex</a></div><div class="ttdeci">Vertex * findVertex(const std::string &amp;id) const</div><div class="ttdoc">Auxiliary function to find a vertex with a given ID.</div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00016">Graph.cpp:16</a></div></div>
<div class="ttc" id="aclassGraph_html_a913921c4491b06f64de526e50d1d0434"><div class="ttname"><a href="classGraph.html#a913921c4491b06f64de526e50d1d0434">Graph::edmondsKarp</a></div><div class="ttdeci">int edmondsKarp(const std::string &amp;s, const std::string &amp;t)</div><div class="ttdoc">finds the maximum flow in the graph, given a source and a target</div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00163">Graph.cpp:163</a></div></div>
<div class="ttc" id="aclassVertex_html"><div class="ttname"><a href="classVertex.html">Vertex</a></div><div class="ttdef"><b>Definition:</b> <a href="classVertex.html#l00019">VertexEdge.h:19</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3b9e281179f49e9ce567bd125461d20" name="aa3b9e281179f49e9ce567bd125461d20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3b9e281179f49e9ce567bd125461d20">&#9670;&#160;</a></span>T2_2maxflowAllStations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T2_2maxflowAllStations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines from all pairs of stations, which ones (if more than one) require the most amount of trains when taking full advantage of the existing network capacity. </p>
<p>Print to the terminal all pairs of stations that require the most amount of trains (if more than one). Count the time it takes to run the algorithm and print it to the terminal. </p><dl class="section see"><dt>See also</dt><dd>this function uses <a class="el" href="classGraph.html#a913921c4491b06f64de526e50d1d0434" title="finds the maximum flow in the graph, given a source and a target">Graph::edmondsKarp()</a> function </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>maxFlow </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00171">171</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  171</span>                                           {</div>
<div class="line"><span class="lineno">  172</span>    vector&lt;string&gt; stations;</div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordtype">int</span> maxFlow = 0;</div>
<div class="line"><span class="lineno">  174</span>    <span class="keyword">auto</span> length = lines.getVertexSet().size();</div>
<div class="line"><span class="lineno">  175</span>    <span class="comment">// Start the timer</span></div>
<div class="line"><span class="lineno">  176</span>    <span class="keyword">auto</span> start_time = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  177</span>    cout &lt;&lt; <span class="stringliteral">&quot;Calculating max flow for all pairs of stations...&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  178</span>    cout &lt;&lt; <span class="stringliteral">&quot;Please stand by...&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; ++i) {</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = i + 1; j &lt; length; ++j) {</div>
<div class="line"><span class="lineno">  181</span>            <span class="keywordtype">string</span> stationA = lines.getVertexSet()[i]-&gt;getId();</div>
<div class="line"><span class="lineno">  182</span>            <span class="keywordtype">string</span> stationB = lines.getVertexSet()[j]-&gt;getId();</div>
<div class="line"><span class="lineno">  183</span>            <span class="keywordtype">int</span> flow = lines.<a class="code hl_function" href="classGraph.html#a913921c4491b06f64de526e50d1d0434">edmondsKarp</a>(stationA, stationB);</div>
<div class="line"><span class="lineno">  184</span>            <span class="keywordflow">if</span> (flow == maxFlow) {</div>
<div class="line"><span class="lineno">  185</span>                stations.push_back(stationB);</div>
<div class="line"><span class="lineno">  186</span>                stations.push_back(stationA);</div>
<div class="line"><span class="lineno">  187</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flow &gt; maxFlow) {</div>
<div class="line"><span class="lineno">  188</span>                stations.clear();</div>
<div class="line"><span class="lineno">  189</span>                stations.push_back(stationB);</div>
<div class="line"><span class="lineno">  190</span>                stations.push_back(stationA);</div>
<div class="line"><span class="lineno">  191</span>                maxFlow = flow;</div>
<div class="line"><span class="lineno">  192</span>            }</div>
<div class="line"><span class="lineno">  193</span>        }</div>
<div class="line"><span class="lineno">  194</span>    }</div>
<div class="line"><span class="lineno">  195</span>    <span class="comment">// End the timer</span></div>
<div class="line"><span class="lineno">  196</span>    <span class="keyword">auto</span> end_time = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>    <span class="comment">// Compute the duration</span></div>
<div class="line"><span class="lineno">  199</span>    <span class="keyword">auto</span> duration = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(end_time - start_time);</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>    <span class="comment">// Print the duration</span></div>
<div class="line"><span class="lineno">  202</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Time taken: &quot;</span> &lt;&lt; duration.count() &lt;&lt; <span class="stringliteral">&quot; ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>    cout &lt;&lt; <span class="stringliteral">&quot;Pairs of stations with the most flow [&quot;</span> &lt;&lt; maxFlow &lt;&lt; <span class="stringliteral">&quot;]:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; stations.size(); i = i + 2) {</div>
<div class="line"><span class="lineno">  206</span>        cout &lt;&lt; <span class="stringliteral">&quot;------------------------\n&quot;</span>;</div>
<div class="line"><span class="lineno">  207</span>        cout &lt;&lt; <span class="stringliteral">&quot;Source: &quot;</span> &lt;&lt; stations[i + 1] &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno">  208</span>        cout &lt;&lt; <span class="stringliteral">&quot;Target: &quot;</span> &lt;&lt; stations[i] &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno">  209</span>        cout &lt;&lt; <span class="stringliteral">&quot;------------------------\n&quot;</span>;</div>
<div class="line"><span class="lineno">  210</span>    }</div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">return</span> maxFlow;</div>
<div class="line"><span class="lineno">  212</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a85069697de87b00d4d3f7fc613f62b78" name="a85069697de87b00d4d3f7fc613f62b78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85069697de87b00d4d3f7fc613f62b78">&#9670;&#160;</a></span>T2_3district()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CPheadquarters::T2_3district </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates where management should assign larger budgets for the purchasing and maintenance of trains. </p>
<p>Reports the top-k districts, regarding their transportation needs </p>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00244">244</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  244</span>                                  {</div>
<div class="line"><span class="lineno">  245</span>    vector&lt;pair&lt;string , int&gt;&gt; top_k;</div>
<div class="line"><span class="lineno">  246</span>    set&lt;string&gt; sett;</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> m : stations) {</div>
<div class="line"><span class="lineno">  248</span>        sett.insert(m.second.get_district());</div>
<div class="line"><span class="lineno">  249</span>    }</div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> m : sett) {</div>
<div class="line"><span class="lineno">  251</span>        vector&lt;string&gt; desired_stations;</div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> p: stations) {</div>
<div class="line"><span class="lineno">  253</span>            <span class="keywordflow">if</span> (p.second.get_district() == m) {</div>
<div class="line"><span class="lineno">  254</span>                desired_stations.push_back(p.second.get_name());</div>
<div class="line"><span class="lineno">  255</span>            }</div>
<div class="line"><span class="lineno">  256</span>        }</div>
<div class="line"><span class="lineno">  257</span>        vector&lt;string&gt; souces = lines.<a class="code hl_function" href="classGraph.html#a95b47f6bbcf75a678faef2dbed575318">find_sources</a>(desired_stations);</div>
<div class="line"><span class="lineno">  258</span>        vector&lt;string&gt; targets = lines.<a class="code hl_function" href="classGraph.html#a743b70d51a72af9625e5c467c8528877">find_targets</a>(desired_stations);</div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordtype">int</span> diff=lines.<a class="code hl_function" href="classGraph.html#ad531840e53343caa6ea0d60473df756f">mul_edmondsKarp</a>(souces, targets);</div>
<div class="line"><span class="lineno">  260</span>        <span class="keyword">auto</span> p = pair(m, diff);</div>
<div class="line"><span class="lineno">  261</span>        top_k.push_back(p);</div>
<div class="line"><span class="lineno">  262</span>    }</div>
<div class="line"><span class="lineno">  263</span>    std::sort(top_k.begin(), top_k.end(), [](<span class="keyword">auto</span> &amp;left, <span class="keyword">auto</span> &amp;right) {</div>
<div class="line"><span class="lineno">  264</span>        return left.second &gt; right.second;</div>
<div class="line"><span class="lineno">  265</span>    });</div>
<div class="line"><span class="lineno">  266</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) {</div>
<div class="line"><span class="lineno">  267</span>        cout &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot;-&quot;</span> &lt;&lt; top_k[i].first &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; top_k[i].second &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno">  268</span>    }</div>
<div class="line"><span class="lineno">  269</span>}</div>
<div class="ttc" id="aclassGraph_html_a743b70d51a72af9625e5c467c8528877"><div class="ttname"><a href="classGraph.html#a743b70d51a72af9625e5c467c8528877">Graph::find_targets</a></div><div class="ttdeci">std::vector&lt; std::string &gt; find_targets(std::vector&lt; std::string &gt; desired_stations)</div><div class="ttdoc">finds all the target vertexes of a sub_graph</div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00198">Graph.cpp:198</a></div></div>
<div class="ttc" id="aclassGraph_html_a95b47f6bbcf75a678faef2dbed575318"><div class="ttname"><a href="classGraph.html#a95b47f6bbcf75a678faef2dbed575318">Graph::find_sources</a></div><div class="ttdeci">std::vector&lt; std::string &gt; find_sources(std::vector&lt; std::string &gt; desired_stations)</div><div class="ttdoc">finds all the source vertexes of a sub_graph</div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00178">Graph.cpp:178</a></div></div>
<div class="ttc" id="aclassGraph_html_ad531840e53343caa6ea0d60473df756f"><div class="ttname"><a href="classGraph.html#ad531840e53343caa6ea0d60473df756f">Graph::mul_edmondsKarp</a></div><div class="ttdeci">int mul_edmondsKarp(std::vector&lt; std::string &gt; souces, std::vector&lt; std::string &gt; targets)</div><div class="ttdoc">finds the maximum flow in the graph, given a set of sources and a set of targets</div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00226">Graph.cpp:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a26e3da4bc26c50af976c6e30407021b7" name="a26e3da4bc26c50af976c6e30407021b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26e3da4bc26c50af976c6e30407021b7">&#9670;&#160;</a></span>T2_3municipality()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CPheadquarters::T2_3municipality </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates where management should assign larger budgets for the purchasing and maintenance of trains. </p>
<p>Reports the top-k municipalities, regarding their transportation needs </p>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00215">215</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  215</span>                                      {</div>
<div class="line"><span class="lineno">  216</span>    vector&lt;pair&lt;string , int&gt;&gt; top_k;</div>
<div class="line"><span class="lineno">  217</span>    set&lt;string&gt; sett;</div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> m : stations) {</div>
<div class="line"><span class="lineno">  219</span>        sett.insert(m.second.get_district());</div>
<div class="line"><span class="lineno">  220</span>    }</div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> m : sett) {</div>
<div class="line"><span class="lineno">  222</span>        vector&lt;string&gt; desired_stations;</div>
<div class="line"><span class="lineno">  223</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> p: stations) {</div>
<div class="line"><span class="lineno">  224</span>            <span class="keywordflow">if</span> (p.second.get_municipality() == m) {</div>
<div class="line"><span class="lineno">  225</span>                desired_stations.push_back(p.second.get_name());</div>
<div class="line"><span class="lineno">  226</span>            }</div>
<div class="line"><span class="lineno">  227</span>        }</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>        vector&lt;string&gt; souces = lines.<a class="code hl_function" href="classGraph.html#a95b47f6bbcf75a678faef2dbed575318">find_sources</a>(desired_stations);</div>
<div class="line"><span class="lineno">  231</span>        vector&lt;string&gt; targets = lines.<a class="code hl_function" href="classGraph.html#a743b70d51a72af9625e5c467c8528877">find_targets</a>(desired_stations);</div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordtype">int</span> diff=lines.<a class="code hl_function" href="classGraph.html#ad531840e53343caa6ea0d60473df756f">mul_edmondsKarp</a>(souces, targets);</div>
<div class="line"><span class="lineno">  233</span>        <span class="keyword">auto</span> p = pair(m, diff);</div>
<div class="line"><span class="lineno">  234</span>        top_k.push_back(p);</div>
<div class="line"><span class="lineno">  235</span>    }</div>
<div class="line"><span class="lineno">  236</span>    std::sort(top_k.begin(), top_k.end(), [](<span class="keyword">auto</span> &amp;left, <span class="keyword">auto</span> &amp;right) {</div>
<div class="line"><span class="lineno">  237</span>        return left.second &gt; right.second;</div>
<div class="line"><span class="lineno">  238</span>    });</div>
<div class="line"><span class="lineno">  239</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) {</div>
<div class="line"><span class="lineno">  240</span>        cout &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot;-&quot;</span> &lt;&lt; top_k[i].first &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; top_k[i].second &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno">  241</span>    }</div>
<div class="line"><span class="lineno">  242</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5cb0b662117e73cb53720f46b6fc3bf6" name="a5cb0b662117e73cb53720f46b6fc3bf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cb0b662117e73cb53720f46b6fc3bf6">&#9670;&#160;</a></span>T2_4maxArrive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T2_4maxArrive </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>destination</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reports the maximum number of trains that can simultaneously arrive at a given station, taking into consideration the entire railway grid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destination</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>maximum flow in a given station </dd></dl>
<dl class="section note"><dt>Note</dt><dd>we consider the source station as the station that does not have any incoming edges </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00272">272</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  272</span>                                                    {</div>
<div class="line"><span class="lineno">  273</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *dest = lines.<a class="code hl_function" href="classGraph.html#a12666658321af4855f1ad691b9840987">findVertex</a>(destination);</div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordtype">int</span> maxFlow = 0;</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>    <span class="comment">// iterate over all vertices to find incoming and outgoing vertices</span></div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;v: lines.getVertexSet()) {</div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordflow">if</span> (v != dest) {</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>            <span class="keywordtype">int</span> flow = lines.<a class="code hl_function" href="classGraph.html#a913921c4491b06f64de526e50d1d0434">edmondsKarp</a>(v-&gt;getId(), destination);</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>            <span class="comment">// Update the maximum flow if this vertex contributes to a higher maximum</span></div>
<div class="line"><span class="lineno">  283</span>            <span class="keywordflow">if</span> (flow &gt; maxFlow) {</div>
<div class="line"><span class="lineno">  284</span>                maxFlow = flow;</div>
<div class="line"><span class="lineno">  285</span>            }</div>
<div class="line"><span class="lineno">  286</span>        }</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    }</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>    cout &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;e: dest-&gt;getIncoming()) {</div>
<div class="line"><span class="lineno">  292</span>        cout &lt;&lt; e-&gt;getOrig()-&gt;getId() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; e-&gt;getDest()-&gt;getId() &lt;&lt; <span class="stringliteral">&quot; : &quot;</span> &lt;&lt; e-&gt;getWeight() &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>    }</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    cout &lt;&lt; <span class="stringliteral">&quot;Max number of trains that can simultaneously arrive at &quot;</span> &lt;&lt; destination &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; maxFlow &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">return</span> maxFlow;</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d1b9e408842662e3c28697e4d9cc226" name="a6d1b9e408842662e3c28697e4d9cc226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d1b9e408842662e3c28697e4d9cc226">&#9670;&#160;</a></span>T3_1MinCost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T3_1MinCost </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the maximum amount of trains that can simultaneously travel between two specific stations with minimum cost for the company steps: *1 - find all possible paths between source and destination *2 - define the optimal path, that is, has minimum cost per train. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td></td></tr>
    <tr><td class="paramname">destination</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>maximum flow between two specific stations </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00303">303</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  303</span>                                                                 {</div>
<div class="line"><span class="lineno">  304</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *sourceVertex = lines.<a class="code hl_function" href="classGraph.html#a12666658321af4855f1ad691b9840987">findVertex</a>(source); <span class="comment">// set source vertex</span></div>
<div class="line"><span class="lineno">  305</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *destVertex = lines.<a class="code hl_function" href="classGraph.html#a12666658321af4855f1ad691b9840987">findVertex</a>(destination); <span class="comment">// set sink vertex</span></div>
<div class="line"><span class="lineno">  306</span>    <span class="keywordflow">if</span> (sourceVertex == <span class="keyword">nullptr</span> || destVertex == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  307</span>        cerr &lt;&lt; <span class="stringliteral">&quot;Source or destination vertex not found. Try again&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  309</span>    }</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    <a class="code hl_class" href="classGraph.html">Graph</a> graph = lines;</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>    std::vector&lt;Vertex *&gt; path;</div>
<div class="line"><span class="lineno">  314</span>    std::vector&lt;std::vector&lt;Vertex *&gt;&gt; allPaths;</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>    graph.<a class="code hl_function" href="classGraph.html#a5d93c472186ffb14563a9fc5f9a9e38e">findAllPaths</a>(sourceVertex, destVertex, path, allPaths);</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>    vector&lt;int&gt; maxFlows;</div>
<div class="line"><span class="lineno">  320</span>    vector&lt;int&gt; totalCosts;</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>    cout &lt;&lt; <span class="stringliteral">&quot;All possible paths between &quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; destination &lt;&lt; <span class="stringliteral">&quot;:\n&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  323</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> path: allPaths) {</div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordtype">int</span> minWeight = 10;</div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordtype">int</span> totalCost = 0; <span class="comment">// total cost of this path</span></div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i + 1 &lt; path.size(); i++) {</div>
<div class="line"><span class="lineno">  327</span>            std::cout &lt;&lt; path[i]-&gt;getId() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span>;</div>
<div class="line"><span class="lineno">  328</span>            <a class="code hl_class" href="classEdge.html">Edge</a> *e = graph.<a class="code hl_function" href="classGraph.html#a97e1c39e924f28125a6984bcab510193">findEdge</a>(path[i], path[i + 1]);</div>
<div class="line"><span class="lineno">  329</span>            cout &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; e-&gt;getWeight() &lt;&lt; <span class="stringliteral">&quot; trains, &quot;</span> &lt;&lt; e-&gt;getService() &lt;&lt; <span class="stringliteral">&quot; service) &quot;</span>;</div>
<div class="line"><span class="lineno">  330</span>            <span class="keywordflow">if</span> (e-&gt;getWeight() &lt; minWeight) {</div>
<div class="line"><span class="lineno">  331</span>                minWeight = e-&gt;getWeight();</div>
<div class="line"><span class="lineno">  332</span>            }</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>            <span class="comment">// according to the problem&#39;s specification, the cost of STANDARD service is 2 euros and ALFA PENDULAR is 4</span></div>
<div class="line"><span class="lineno">  335</span>            <span class="keywordflow">if</span> (e-&gt;getService() == <span class="stringliteral">&quot;STANDARD&quot;</span>) {</div>
<div class="line"><span class="lineno">  336</span>                totalCost += 2;</div>
<div class="line"><span class="lineno">  337</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;getService() == <span class="stringliteral">&quot;ALFA PENDULAR&quot;</span>) {</div>
<div class="line"><span class="lineno">  338</span>                totalCost += 4;</div>
<div class="line"><span class="lineno">  339</span>            }</div>
<div class="line"><span class="lineno">  340</span>        }</div>
<div class="line"><span class="lineno">  341</span>        maxFlows.push_back(minWeight);</div>
<div class="line"><span class="lineno">  342</span>        totalCosts.push_back(totalCost);</div>
<div class="line"><span class="lineno">  343</span>        cout &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; path[path.size() - 1]-&gt;getId() &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  344</span>        cout &lt;&lt; <span class="stringliteral">&quot;Max flow for this path: &quot;</span> &lt;&lt; minWeight &lt;&lt; <span class="stringliteral">&quot; trains. &quot;</span>;</div>
<div class="line"><span class="lineno">  345</span>        cout &lt;&lt; <span class="stringliteral">&quot;Total cost: &quot;</span> &lt;&lt; totalCost &lt;&lt; <span class="stringliteral">&quot; euros.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  346</span>        std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  347</span>    }</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>    <span class="comment">// find the path with the minimum cost per train</span></div>
<div class="line"><span class="lineno">  350</span>    <span class="keywordtype">int</span> maxTrains = 0;</div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordtype">int</span> resCost;</div>
<div class="line"><span class="lineno">  352</span>    <span class="keywordtype">double</span> max_value = 10000;</div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; maxFlows.size(); ++i) {</div>
<div class="line"><span class="lineno">  354</span>        <span class="keywordtype">double</span> costPerTrain = (double) totalCosts[i] / maxFlows[i];</div>
<div class="line"><span class="lineno">  355</span>        <span class="keywordflow">if</span> (costPerTrain &lt; max_value) {</div>
<div class="line"><span class="lineno">  356</span>            max_value = costPerTrain;</div>
<div class="line"><span class="lineno">  357</span>            maxTrains = maxFlows[i];</div>
<div class="line"><span class="lineno">  358</span>            resCost = totalCosts[i];</div>
<div class="line"><span class="lineno">  359</span>        }</div>
<div class="line"><span class="lineno">  360</span>    }</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>    cout &lt;&lt; <span class="stringliteral">&quot;Max number of trains that can travel between &quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; destination</div>
<div class="line"><span class="lineno">  363</span>         &lt;&lt; <span class="stringliteral">&quot; with minimum cost&quot;</span></div>
<div class="line"><span class="lineno">  364</span>         &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; resCost &lt;&lt; <span class="stringliteral">&quot; euros): &quot;</span> &lt;&lt; maxTrains &lt;&lt; <span class="stringliteral">&quot; trains\n&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  365</span>    <span class="keywordflow">return</span> maxTrains;</div>
<div class="line"><span class="lineno">  366</span>}</div>
<div class="ttc" id="aclassEdge_html"><div class="ttname"><a href="classEdge.html">Edge</a></div><div class="ttdef"><b>Definition:</b> <a href="classEdge.html#l00078">VertexEdge.h:78</a></div></div>
<div class="ttc" id="aclassGraph_html"><div class="ttname"><a href="classGraph.html">Graph</a></div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00015">Graph.h:15</a></div></div>
<div class="ttc" id="aclassGraph_html_a5d93c472186ffb14563a9fc5f9a9e38e"><div class="ttname"><a href="classGraph.html#a5d93c472186ffb14563a9fc5f9a9e38e">Graph::findAllPaths</a></div><div class="ttdeci">void findAllPaths(Vertex *source, Vertex *destination, std::vector&lt; Vertex * &gt; &amp;path, std::vector&lt; std::vector&lt; Vertex * &gt; &gt; &amp;allPaths)</div><div class="ttdoc">finds all existing paths for a given source and destination return a vector of paths as an out parame...</div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00269">Graph.cpp:269</a></div></div>
<div class="ttc" id="aclassGraph_html_a97e1c39e924f28125a6984bcab510193"><div class="ttname"><a href="classGraph.html#a97e1c39e924f28125a6984bcab510193">Graph::findEdge</a></div><div class="ttdeci">Edge * findEdge(Vertex *source, Vertex *destination)</div><div class="ttdoc">find an edge in the graph, based on a a source and a destination vertices</div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00291">Graph.cpp:291</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a53554354a91a10acf0a20ef933f1efd0" name="a53554354a91a10acf0a20ef933f1efd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53554354a91a10acf0a20ef933f1efd0">&#9670;&#160;</a></span>T4_1ReducedConectivity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T4_1ReducedConectivity </td>
          <td>(</td>
          <td class="paramtype">vector&lt; string &gt;&#160;</td>
          <td class="paramname"><em>unwantedEdges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the maximum number of trains that can simultaneously travel between two specific stations in a network of reduced connectivity. </p>
<p>Reduced connectivity is a subgraph of the original railway network. Takes any valid source and destination stations as input. </p><dl class="section note"><dt>Note</dt><dd>it allows a user to remove edges from the railway network. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unwantedEdges</td><td></td></tr>
    <tr><td class="paramname">s</td><td></td></tr>
    <tr><td class="paramname">t</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>maximum flow between two specific stations </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00369">369</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  369</span>                                                                                                       {</div>
<div class="line"><span class="lineno">  370</span>    <a class="code hl_class" href="classGraph.html">Graph</a> graph;</div>
<div class="line"><span class="lineno">  371</span>    std::ifstream inputFile1(R<span class="stringliteral">&quot;(../network.csv)&quot;);</span></div>
<div class="line"><span class="lineno">  372</span><span class="stringliteral">    </span><span class="keywordtype">string</span> line1;</div>
<div class="line"><span class="lineno">  373</span>    std::getline(inputFile1, line1); <span class="comment">// ignore first line</span></div>
<div class="line"><span class="lineno">  374</span>    <span class="keywordflow">while</span> (getline(inputFile1, line1, <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>        <span class="keywordflow">if</span> (!line1.empty() &amp;&amp; line1.back() == <span class="charliteral">&#39;\r&#39;</span>) { <span class="comment">// Check if the last character is &#39;\r&#39;</span></div>
<div class="line"><span class="lineno">  377</span>            line1.pop_back(); <span class="comment">// Remove the &#39;\r&#39; character</span></div>
<div class="line"><span class="lineno">  378</span>        }</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>        <span class="keywordtype">string</span> station_A;</div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordtype">string</span> station_B;</div>
<div class="line"><span class="lineno">  382</span>        <span class="keywordtype">string</span> temp;</div>
<div class="line"><span class="lineno">  383</span>        <span class="keywordtype">int</span> capacity;</div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordtype">string</span> service;</div>
<div class="line"><span class="lineno">  385</span>        <span class="keywordtype">bool</span> flag=<span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>        stringstream inputString(line1);</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>        getline(inputString, station_A, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  390</span>        getline(inputString, station_B, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  391</span>        getline(inputString, temp, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  392</span>        getline(inputString, service, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>        capacity = stoi(temp);</div>
<div class="line"><span class="lineno">  395</span>        graph.<a class="code hl_function" href="classGraph.html#aa265fe199ebbac978b8a954ea754b0c2">addVertex</a>(station_A);</div>
<div class="line"><span class="lineno">  396</span>        graph.<a class="code hl_function" href="classGraph.html#aa265fe199ebbac978b8a954ea754b0c2">addVertex</a>(station_B);</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; unwantedEdges.size(); i = i + 2) {</div>
<div class="line"><span class="lineno">  399</span>                <span class="keywordflow">if</span>(station_A==unwantedEdges[i] &amp;&amp; station_B==unwantedEdges[i+1]){</div>
<div class="line"><span class="lineno">  400</span>                    flag=<span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  401</span>                }</div>
<div class="line"><span class="lineno">  402</span>        }</div>
<div class="line"><span class="lineno">  403</span>        <span class="keywordflow">if</span> (flag) {</div>
<div class="line"><span class="lineno">  404</span>            graph.<a class="code hl_function" href="classGraph.html#aa43465e582bec0296ba81cc16b3bf8ab">addEdge</a>(station_A, station_B, capacity, service);</div>
<div class="line"><span class="lineno">  405</span>        }</div>
<div class="line"><span class="lineno">  406</span>        line1 = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  407</span>    }</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *source = graph.<a class="code hl_function" href="classGraph.html#a12666658321af4855f1ad691b9840987">findVertex</a>(s); <span class="comment">// set source vertex</span></div>
<div class="line"><span class="lineno">  410</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *sink = graph.<a class="code hl_function" href="classGraph.html#a12666658321af4855f1ad691b9840987">findVertex</a>(t); <span class="comment">// set sink vertex</span></div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    <span class="comment">// Check if these stations even exist</span></div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">if</span> (source == <span class="keyword">nullptr</span> || sink == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  414</span>        std::cerr &lt;&lt; <span class="stringliteral">&quot;Source or sink vertex not found.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  415</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  416</span>    }</div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordtype">int</span> maxFlow = graph.<a class="code hl_function" href="classGraph.html#a913921c4491b06f64de526e50d1d0434">edmondsKarp</a>(s, t);</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">if</span> (maxFlow == 0) {</div>
<div class="line"><span class="lineno">  420</span>        cerr &lt;&lt; <span class="stringliteral">&quot;Stations are not connected. Try stationB to stationA instead. &quot;</span> &lt;&lt; t &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; s</div>
<div class="line"><span class="lineno">  421</span>             &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  422</span>    }</div>
<div class="line"><span class="lineno">  423</span>    cout &lt;&lt; <span class="stringliteral">&quot;maxFlow:\t&quot;</span> &lt;&lt; maxFlow &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  427</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a77d3e65a98af094685b18a8fe8829270" name="a77d3e65a98af094685b18a8fe8829270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77d3e65a98af094685b18a8fe8829270">&#9670;&#160;</a></span>T4_2Top_K_ReducedConectivity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T4_2Top_K_ReducedConectivity </td>
          <td>(</td>
          <td class="paramtype">vector&lt; string &gt;&#160;</td>
          <td class="paramname"><em>unwantedEdges</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides a report on the stations that are the most affected by each segment failure, i.e., the top-k most affected stations for each segment to be considered. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unwantedEdges</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>top-k most affected stations for each segment to be considered </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00430">430</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  430</span>                                                                             {</div>
<div class="line"><span class="lineno">  431</span>    <a class="code hl_class" href="classGraph.html">Graph</a> graph;</div>
<div class="line"><span class="lineno">  432</span>    std::ifstream inputFile1(R<span class="stringliteral">&quot;(../network.csv)&quot;);</span></div>
<div class="line"><span class="lineno">  433</span><span class="stringliteral">    </span><span class="keywordtype">string</span> line1;</div>
<div class="line"><span class="lineno">  434</span>    std::getline(inputFile1, line1); <span class="comment">// ignore first line</span></div>
<div class="line"><span class="lineno">  435</span>    <span class="keywordflow">while</span> (getline(inputFile1, line1, <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>        <span class="keywordflow">if</span> (!line1.empty() &amp;&amp; line1.back() == <span class="charliteral">&#39;\r&#39;</span>) { <span class="comment">// Check if the last character is &#39;\r&#39;</span></div>
<div class="line"><span class="lineno">  438</span>            line1.pop_back(); <span class="comment">// Remove the &#39;\r&#39; character</span></div>
<div class="line"><span class="lineno">  439</span>        }</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>        <span class="keywordtype">string</span> station_A;</div>
<div class="line"><span class="lineno">  442</span>        <span class="keywordtype">string</span> station_B;</div>
<div class="line"><span class="lineno">  443</span>        <span class="keywordtype">string</span> temp;</div>
<div class="line"><span class="lineno">  444</span>        <span class="keywordtype">int</span> capacity;</div>
<div class="line"><span class="lineno">  445</span>        <span class="keywordtype">string</span> service;</div>
<div class="line"><span class="lineno">  446</span>        <span class="keywordtype">bool</span> flag=<span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  447</span> </div>
<div class="line"><span class="lineno">  448</span>        stringstream inputString(line1);</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>        getline(inputString, station_A, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  451</span>        getline(inputString, station_B, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  452</span>        getline(inputString, temp, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  453</span>        getline(inputString, service, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>        capacity = stoi(temp);</div>
<div class="line"><span class="lineno">  456</span>        graph.<a class="code hl_function" href="classGraph.html#aa265fe199ebbac978b8a954ea754b0c2">addVertex</a>(station_A);</div>
<div class="line"><span class="lineno">  457</span>        graph.<a class="code hl_function" href="classGraph.html#aa265fe199ebbac978b8a954ea754b0c2">addVertex</a>(station_B);</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; unwantedEdges.size(); i = i + 2) {</div>
<div class="line"><span class="lineno">  460</span>            <span class="keywordflow">if</span> (station_A == unwantedEdges[i] &amp;&amp; station_B == unwantedEdges[i + 1]) {</div>
<div class="line"><span class="lineno">  461</span>                flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  462</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  463</span>            }</div>
<div class="line"><span class="lineno">  464</span>        }</div>
<div class="line"><span class="lineno">  465</span>        <span class="keywordflow">if</span> (flag) {</div>
<div class="line"><span class="lineno">  466</span>            graph.<a class="code hl_function" href="classGraph.html#aa43465e582bec0296ba81cc16b3bf8ab">addEdge</a>(station_A, station_B, capacity, service);</div>
<div class="line"><span class="lineno">  467</span>        }</div>
<div class="line"><span class="lineno">  468</span>        line1 = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  469</span>    }</div>
<div class="line"><span class="lineno">  470</span>    vector&lt;string&gt; org = lines.<a class="code hl_function" href="classGraph.html#a8d8dfc7fdadcd8b257dfe1544e89bbd7">getSources</a>();</div>
<div class="line"><span class="lineno">  471</span>    vector&lt;string&gt; targ = lines.<a class="code hl_function" href="classGraph.html#a2f7d6b7f8954adc7f09ff73b2eae7e2c">getTargets</a>();</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    lines.<a class="code hl_function" href="classGraph.html#ad531840e53343caa6ea0d60473df756f">mul_edmondsKarp</a>(org,targ);</div>
<div class="line"><span class="lineno">  474</span>    graph.<a class="code hl_function" href="classGraph.html#ad531840e53343caa6ea0d60473df756f">mul_edmondsKarp</a>(org,targ);</div>
<div class="line"><span class="lineno">  475</span>    vector&lt;pair&lt;int, int&gt;&gt; top_k;</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>    <span class="keyword">auto</span> length = lines.getVertexSet().size();</div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; ++i) {</div>
<div class="line"><span class="lineno">  479</span>        <span class="keywordtype">string</span> destination = lines.getVertexSet()[i]-&gt;getId();</div>
<div class="line"><span class="lineno">  480</span>        <span class="keyword">auto</span> v1 = lines.<a class="code hl_function" href="classGraph.html#a12666658321af4855f1ad691b9840987">findVertex</a>(destination);</div>
<div class="line"><span class="lineno">  481</span>        <span class="keyword">auto</span> v2 = graph.<a class="code hl_function" href="classGraph.html#a12666658321af4855f1ad691b9840987">findVertex</a>(destination);</div>
<div class="line"><span class="lineno">  482</span>        <span class="keywordtype">int</span> maxFlow1 = 0;</div>
<div class="line"><span class="lineno">  483</span>        <span class="keywordtype">int</span> maxFlow2 = 0;</div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">for</span>(<span class="keyword">auto</span> e : v1-&gt;getIncoming()){</div>
<div class="line"><span class="lineno">  485</span>            maxFlow1+=e-&gt;getFlow();</div>
<div class="line"><span class="lineno">  486</span>        }</div>
<div class="line"><span class="lineno">  487</span>        <span class="keywordflow">for</span>(<span class="keyword">auto</span> e : v2-&gt;getIncoming()){</div>
<div class="line"><span class="lineno">  488</span>            maxFlow2+=e-&gt;getFlow();</div>
<div class="line"><span class="lineno">  489</span>        }</div>
<div class="line"><span class="lineno">  490</span>        <span class="keywordtype">int</span> diff = maxFlow1 - maxFlow2;</div>
<div class="line"><span class="lineno">  491</span>        <span class="keyword">auto</span> p = pair(i, diff);</div>
<div class="line"><span class="lineno">  492</span>        top_k.push_back(p);</div>
<div class="line"><span class="lineno">  493</span>    }</div>
<div class="line"><span class="lineno">  494</span>    std::sort(top_k.begin(), top_k.end(), [](<span class="keyword">auto</span> &amp;left, <span class="keyword">auto</span> &amp;right) {</div>
<div class="line"><span class="lineno">  495</span>        return left.second &gt; right.second;</div>
<div class="line"><span class="lineno">  496</span>    });</div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) {</div>
<div class="line"><span class="lineno">  498</span>        cout &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot;-&quot;</span> &lt;&lt; lines.getVertexSet()[top_k[i].first]-&gt;getId() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; top_k[i].second &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno">  499</span>    }</div>
<div class="line"><span class="lineno">  500</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  501</span>}</div>
<div class="ttc" id="aclassGraph_html_a2f7d6b7f8954adc7f09ff73b2eae7e2c"><div class="ttname"><a href="classGraph.html#a2f7d6b7f8954adc7f09ff73b2eae7e2c">Graph::getTargets</a></div><div class="ttdeci">std::vector&lt; std::string &gt; getTargets()</div><div class="ttdoc">finds all the target vertexes of the entire graph</div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00312">Graph.cpp:312</a></div></div>
<div class="ttc" id="aclassGraph_html_a8d8dfc7fdadcd8b257dfe1544e89bbd7"><div class="ttname"><a href="classGraph.html#a8d8dfc7fdadcd8b257dfe1544e89bbd7">Graph::getSources</a></div><div class="ttdeci">std::vector&lt; std::string &gt; getSources()</div><div class="ttdoc">finds all the source vertexes of the entire graph</div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00302">Graph.cpp:302</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="CPheadquarters_8h_source.html">CPheadquarters.h</a></li>
<li><a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCPheadquarters.html">CPheadquarters</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
