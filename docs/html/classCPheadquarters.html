<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>An Analysis Tool for Railway Network Management: CPheadquarters Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">An Analysis Tool for Railway Network Management<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classCPheadquarters.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCPheadquarters-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">CPheadquarters Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a642d65a12c17e62eac74604b9e27ae2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a642d65a12c17e62eac74604b9e27ae2b">read_files</a> ()</td></tr>
<tr class="memdesc:a642d65a12c17e62eac74604b9e27ae2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the files network.csv and stations.csv and stores the information in the <a class="el" href="classGraph.html">Graph</a> and unordered_map.  <br /></td></tr>
<tr class="separator:a642d65a12c17e62eac74604b9e27ae2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a782036a2216e3ad38ce4779be1c5154a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGraph.html">Graph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a782036a2216e3ad38ce4779be1c5154a">getLines</a> () const</td></tr>
<tr class="memdesc:a782036a2216e3ad38ce4779be1c5154a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="classGraph.html">Graph</a> object.  <br /></td></tr>
<tr class="separator:a782036a2216e3ad38ce4779be1c5154a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6213807edb09bc22683a415f7a9a0f9d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a6213807edb09bc22683a415f7a9a0f9d">T2_1maxflow</a> (string station_A, string station_B)</td></tr>
<tr class="memdesc:a6213807edb09bc22683a415f7a9a0f9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the maximum number of trains that can simultaneously travel between two specific stations.  <br /></td></tr>
<tr class="separator:a6213807edb09bc22683a415f7a9a0f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3b9e281179f49e9ce567bd125461d20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#aa3b9e281179f49e9ce567bd125461d20">T2_2maxflowAllStations</a> ()</td></tr>
<tr class="memdesc:aa3b9e281179f49e9ce567bd125461d20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines from all pairs of stations, which ones (if more than one) require the most amount of trains when taking full advantage of the existing network capacity.  <br /></td></tr>
<tr class="separator:aa3b9e281179f49e9ce567bd125461d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa81f02c9fcfc9ea93cd1570fa4788aed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#aa81f02c9fcfc9ea93cd1570fa4788aed">T2_3municipality</a> (string municipality)</td></tr>
<tr class="memdesc:aa81f02c9fcfc9ea93cd1570fa4788aed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates where management should assign larger budgets for the purchasing and maintenance of trains.  <br /></td></tr>
<tr class="separator:aa81f02c9fcfc9ea93cd1570fa4788aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e6e04da1bc165ed34803e734786d0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a44e6e04da1bc165ed34803e734786d0d">T2_3district</a> (string district)</td></tr>
<tr class="separator:a44e6e04da1bc165ed34803e734786d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb0b662117e73cb53720f46b6fc3bf6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a5cb0b662117e73cb53720f46b6fc3bf6">T2_4maxArrive</a> (string destination)</td></tr>
<tr class="memdesc:a5cb0b662117e73cb53720f46b6fc3bf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports the maximum number of trains that can simultaneously arrive at a given station, taking into consideration the entire railway grid.  <br /></td></tr>
<tr class="separator:a5cb0b662117e73cb53720f46b6fc3bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1b9e408842662e3c28697e4d9cc226"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a6d1b9e408842662e3c28697e4d9cc226">T3_1MinCost</a> (string source, string destination)</td></tr>
<tr class="memdesc:a6d1b9e408842662e3c28697e4d9cc226"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the maximum amount of trains that can simultaneously travel between two specific stations with minimum cost for the company steps: *1 - find all possible paths between source and destination *2 - define the optimal path, that is, has minimum cost per train.  <br /></td></tr>
<tr class="separator:a6d1b9e408842662e3c28697e4d9cc226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53554354a91a10acf0a20ef933f1efd0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a53554354a91a10acf0a20ef933f1efd0">T4_1ReducedConectivity</a> (vector&lt; string &gt; unwantedEdges, string s, string t)</td></tr>
<tr class="memdesc:a53554354a91a10acf0a20ef933f1efd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the maximum number of trains that can simultaneously travel between two specific stations in a network of reduced connectivity.  <br /></td></tr>
<tr class="separator:a53554354a91a10acf0a20ef933f1efd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d3e65a98af094685b18a8fe8829270"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a77d3e65a98af094685b18a8fe8829270">T4_2Top_K_ReducedConectivity</a> (vector&lt; string &gt; unwantedEdges)</td></tr>
<tr class="memdesc:a77d3e65a98af094685b18a8fe8829270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a report on the stations that are the most affected by each segment failure, i.e., the top-k most affected stations for each segment to be considered.  <br /></td></tr>
<tr class="separator:a77d3e65a98af094685b18a8fe8829270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e2dfb8d7f8b5966187a74db5b965ad7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCPheadquarters.html#a4e2dfb8d7f8b5966187a74db5b965ad7">test</a> ()</td></tr>
<tr class="separator:a4e2dfb8d7f8b5966187a74db5b965ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="CPheadquarters_8h_source.html#l00014">14</a> of file <a class="el" href="CPheadquarters_8h_source.html">CPheadquarters.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a782036a2216e3ad38ce4779be1c5154a" name="a782036a2216e3ad38ce4779be1c5154a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a782036a2216e3ad38ce4779be1c5154a">&#9670;&#160;</a></span>getLines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGraph.html">Graph</a> CPheadquarters::getLines </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the <a class="el" href="classGraph.html">Graph</a> object. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classGraph.html">Graph</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00079">79</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   79</span>                                     {</div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">return</span> this-&gt;lines;</div>
<div class="line"><span class="lineno">   81</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a642d65a12c17e62eac74604b9e27ae2b" name="a642d65a12c17e62eac74604b9e27ae2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a642d65a12c17e62eac74604b9e27ae2b">&#9670;&#160;</a></span>read_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CPheadquarters::read_files </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the files network.csv and stations.csv and stores the information in the <a class="el" href="classGraph.html">Graph</a> and unordered_map. </p>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00012">12</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   12</span>                                {</div>
<div class="line"><span class="lineno">   13</span> </div>
<div class="line"><span class="lineno">   14</span>    <span class="comment">//--------------------------------------------Read network.csv--------------------------------------------</span></div>
<div class="line"><span class="lineno">   15</span>    std::ifstream inputFile1(R<span class="stringliteral">&quot;(../network.csv)&quot;);</span></div>
<div class="line"><span class="lineno">   16</span><span class="stringliteral">    </span><span class="keywordtype">string</span> line1;</div>
<div class="line"><span class="lineno">   17</span>    std::getline(inputFile1, line1); <span class="comment">// ignore first line</span></div>
<div class="line"><span class="lineno">   18</span>    <span class="keywordflow">while</span> (getline(inputFile1, line1, <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line"><span class="lineno">   19</span> </div>
<div class="line"><span class="lineno">   20</span>        <span class="keywordflow">if</span> (!line1.empty() &amp;&amp; line1.back() == <span class="charliteral">&#39;\r&#39;</span>) { <span class="comment">// Check if the last character is &#39;\r&#39;</span></div>
<div class="line"><span class="lineno">   21</span>            line1.pop_back(); <span class="comment">// Remove the &#39;\r&#39; character</span></div>
<div class="line"><span class="lineno">   22</span>        }</div>
<div class="line"><span class="lineno">   23</span> </div>
<div class="line"><span class="lineno">   24</span>        <span class="keywordtype">string</span> station_A;</div>
<div class="line"><span class="lineno">   25</span>        <span class="keywordtype">string</span> station_B;</div>
<div class="line"><span class="lineno">   26</span>        <span class="keywordtype">string</span> temp;</div>
<div class="line"><span class="lineno">   27</span>        <span class="keywordtype">int</span> capacity;</div>
<div class="line"><span class="lineno">   28</span>        <span class="keywordtype">string</span> service;</div>
<div class="line"><span class="lineno">   29</span> </div>
<div class="line"><span class="lineno">   30</span>        stringstream inputString(line1);</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>        getline(inputString, station_A, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   33</span>        getline(inputString, station_B, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   34</span>        getline(inputString, temp, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   35</span>        getline(inputString, service, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>        capacity = stoi(temp);</div>
<div class="line"><span class="lineno">   38</span>        lines.addVertex(station_A);</div>
<div class="line"><span class="lineno">   39</span>        lines.addVertex(station_B);</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>        lines.addEdge(station_A, station_B, capacity, service);</div>
<div class="line"><span class="lineno">   42</span>    }</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>    <span class="comment">//--------------------------------------------Read stations.csv--------------------------------------------</span></div>
<div class="line"><span class="lineno">   46</span>    std::ifstream inputFile2(R<span class="stringliteral">&quot;(../stations.csv)&quot;);</span></div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral">    </span><span class="keywordtype">string</span> line2;</div>
<div class="line"><span class="lineno">   48</span>    std::getline(inputFile2, line2); <span class="comment">// ignore first line</span></div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>    <span class="keywordflow">while</span> (getline(inputFile2, line2, <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>        <span class="keywordflow">if</span> (!line1.empty() &amp;&amp; line1.back() == <span class="charliteral">&#39;\r&#39;</span>) { <span class="comment">// Check if the last character is &#39;\r&#39;</span></div>
<div class="line"><span class="lineno">   53</span>            line1.pop_back(); <span class="comment">// Remove the &#39;\r&#39; character</span></div>
<div class="line"><span class="lineno">   54</span>        }</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>        <span class="keywordtype">string</span> nome;</div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordtype">string</span> distrito;</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordtype">string</span> municipality;</div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordtype">string</span> township;</div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordtype">string</span> line;</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>        stringstream inputString(line2);</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>        getline(inputString, nome, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   65</span>        getline(inputString, distrito, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   66</span>        getline(inputString, municipality, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   67</span>        getline(inputString, township, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   68</span>        getline(inputString, line, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>        <a class="code hl_class" href="classStation.html">Station</a> station(nome, distrito, municipality, township, line);</div>
<div class="line"><span class="lineno">   71</span>        stations[nome] = station;</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>        <span class="comment">// print information about the station, to make sure it was imported correctly</span></div>
<div class="line"><span class="lineno">   74</span>        <span class="comment">//cout &lt;&lt; &quot;station: &quot; &lt;&lt; nome &lt;&lt; &quot; distrito: &quot; &lt;&lt; distrito &lt;&lt; &quot; municipality: &quot; &lt;&lt; municipality &lt;&lt; &quot; township: &quot; &lt;&lt; township &lt;&lt; &quot; line: &quot; &lt;&lt; line &lt;&lt; endl;</span></div>
<div class="line"><span class="lineno">   75</span>    }</div>
<div class="line"><span class="lineno">   76</span>}</div>
<div class="ttc" id="aclassStation_html"><div class="ttname"><a href="classStation.html">Station</a></div><div class="ttdef"><b>Definition:</b> <a href="classStation.html#l00012">Station.h:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6213807edb09bc22683a415f7a9a0f9d" name="a6213807edb09bc22683a415f7a9a0f9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6213807edb09bc22683a415f7a9a0f9d">&#9670;&#160;</a></span>T2_1maxflow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T2_1maxflow </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>station_A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>station_B</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the maximum number of trains that can simultaneously travel between two specific stations. </p>
<p>Takes any valid source and destination stations as input </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stationA</td><td></td></tr>
    <tr><td class="paramname">stationB</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>maxFlow </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00084">84</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   84</span>                                                                {</div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *source = lines.findVertex(stationA); <span class="comment">// set source vertex</span></div>
<div class="line"><span class="lineno">   86</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *sink = lines.findVertex(stationB); <span class="comment">// set sink vertex</span></div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    <span class="comment">// Check if these stations even exist</span></div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">if</span> (source == <span class="keyword">nullptr</span> || sink == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">   90</span>        std::cerr &lt;&lt; <span class="stringliteral">&quot;Source or sink vertex not found.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">   91</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   92</span>    }</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordtype">int</span> maxFlow = lines.edmondsKarp(stationA, stationB);</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordflow">if</span> (maxFlow == 0) {</div>
<div class="line"><span class="lineno">   96</span>        cerr &lt;&lt; <span class="stringliteral">&quot;Stations are not connected. Try stationB to stationA instead. &quot;</span> &lt;&lt; stationB &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; stationA</div>
<div class="line"><span class="lineno">   97</span>             &lt;&lt; endl;</div>
<div class="line"><span class="lineno">   98</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   99</span>        cout &lt;&lt; <span class="stringliteral">&quot;maxFlow:\t&quot;</span> &lt;&lt; maxFlow &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  100</span>    }</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  103</span>}</div>
<div class="ttc" id="aclassVertex_html"><div class="ttname"><a href="classVertex.html">Vertex</a></div><div class="ttdef"><b>Definition:</b> <a href="classVertex.html#l00019">VertexEdge.h:19</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3b9e281179f49e9ce567bd125461d20" name="aa3b9e281179f49e9ce567bd125461d20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3b9e281179f49e9ce567bd125461d20">&#9670;&#160;</a></span>T2_2maxflowAllStations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T2_2maxflowAllStations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines from all pairs of stations, which ones (if more than one) require the most amount of trains when taking full advantage of the existing network capacity. </p>
<p>Print to the terminal all pairs of stations that require the most amount of trains (if more than one). Count the time it takes to run the algorithm and print it to the terminal. </p><dl class="section see"><dt>See also</dt><dd>this function uses Graph::edmondsKarp() function </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>maxFlow </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00111">111</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  111</span>                                           {</div>
<div class="line"><span class="lineno">  112</span>    vector&lt;string&gt; stations;</div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordtype">int</span> maxFlow = 0;</div>
<div class="line"><span class="lineno">  114</span>    <span class="keyword">auto</span> length = lines.getVertexSet().size();</div>
<div class="line"><span class="lineno">  115</span>    <span class="comment">// Start the timer</span></div>
<div class="line"><span class="lineno">  116</span>    <span class="keyword">auto</span> start_time = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  117</span>    cout &lt;&lt; <span class="stringliteral">&quot;Calculating max flow for all pairs of stations...&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  118</span>    cout &lt;&lt; <span class="stringliteral">&quot;Please stand by...&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; ++i) {</div>
<div class="line"><span class="lineno">  120</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = i + 1; j &lt; length; ++j) {</div>
<div class="line"><span class="lineno">  121</span>            <span class="keywordtype">string</span> stationA = lines.getVertexSet()[i]-&gt;getId();</div>
<div class="line"><span class="lineno">  122</span>            <span class="keywordtype">string</span> stationB = lines.getVertexSet()[j]-&gt;getId();</div>
<div class="line"><span class="lineno">  123</span>            <span class="keywordtype">int</span> flow = lines.edmondsKarp(stationA, stationB);</div>
<div class="line"><span class="lineno">  124</span>            <span class="keywordflow">if</span> (flow == maxFlow) {</div>
<div class="line"><span class="lineno">  125</span>                stations.push_back(stationB);</div>
<div class="line"><span class="lineno">  126</span>                stations.push_back(stationA);</div>
<div class="line"><span class="lineno">  127</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flow &gt; maxFlow) {</div>
<div class="line"><span class="lineno">  128</span>                stations.clear();</div>
<div class="line"><span class="lineno">  129</span>                stations.push_back(stationB);</div>
<div class="line"><span class="lineno">  130</span>                stations.push_back(stationA);</div>
<div class="line"><span class="lineno">  131</span>                maxFlow = flow;</div>
<div class="line"><span class="lineno">  132</span>            }</div>
<div class="line"><span class="lineno">  133</span>        }</div>
<div class="line"><span class="lineno">  134</span>    }</div>
<div class="line"><span class="lineno">  135</span>    <span class="comment">// End the timer</span></div>
<div class="line"><span class="lineno">  136</span>    <span class="keyword">auto</span> end_time = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    <span class="comment">// Compute the duration</span></div>
<div class="line"><span class="lineno">  139</span>    <span class="keyword">auto</span> duration = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(end_time - start_time);</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    <span class="comment">// Print the duration</span></div>
<div class="line"><span class="lineno">  142</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Time taken: &quot;</span> &lt;&lt; duration.count() &lt;&lt; <span class="stringliteral">&quot; ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>    cout &lt;&lt; <span class="stringliteral">&quot;Pairs of stations with the most flow [&quot;</span> &lt;&lt; maxFlow &lt;&lt; <span class="stringliteral">&quot;]:\n&quot;</span>;</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; stations.size(); i = i + 2) {</div>
<div class="line"><span class="lineno">  146</span>        cout &lt;&lt; <span class="stringliteral">&quot;------------------------\n&quot;</span>;</div>
<div class="line"><span class="lineno">  147</span>        cout &lt;&lt; <span class="stringliteral">&quot;Source: &quot;</span> &lt;&lt; stations[i + 1] &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno">  148</span>        cout &lt;&lt; <span class="stringliteral">&quot;Target: &quot;</span> &lt;&lt; stations[i] &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno">  149</span>        cout &lt;&lt; <span class="stringliteral">&quot;------------------------\n&quot;</span>;</div>
<div class="line"><span class="lineno">  150</span>    }</div>
<div class="line"><span class="lineno">  151</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  152</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a44e6e04da1bc165ed34803e734786d0d" name="a44e6e04da1bc165ed34803e734786d0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44e6e04da1bc165ed34803e734786d0d">&#9670;&#160;</a></span>T2_3district()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T2_3district </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>district</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00167">167</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  167</span>                                                {</div>
<div class="line"><span class="lineno">  168</span>    vector&lt;string&gt; desired_stations;</div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> p: stations) {</div>
<div class="line"><span class="lineno">  170</span>        <span class="keywordflow">if</span> (p.second.get_district() == district) {</div>
<div class="line"><span class="lineno">  171</span>            desired_stations.push_back(p.second.get_name());</div>
<div class="line"><span class="lineno">  172</span>        }</div>
<div class="line"><span class="lineno">  173</span>    }</div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">return</span> lines.mul_edmondsKarp(lines.find_sources(desired_stations), lines.find_targets(desired_stations));</div>
<div class="line"><span class="lineno">  175</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa81f02c9fcfc9ea93cd1570fa4788aed" name="aa81f02c9fcfc9ea93cd1570fa4788aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa81f02c9fcfc9ea93cd1570fa4788aed">&#9670;&#160;</a></span>T2_3municipality()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T2_3municipality </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>municipality</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates where management should assign larger budgets for the purchasing and maintenance of trains. </p>
<p>Reports the top-k municipalities and districts, regarding their transportation needs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">municipality</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>maximum flow in the given municipality </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00155">155</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  155</span>                                                        {</div>
<div class="line"><span class="lineno">  156</span>    vector&lt;string&gt; desired_stations;</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> p: stations) {</div>
<div class="line"><span class="lineno">  158</span>        <span class="keywordflow">if</span> (p.second.get_municipality() == municipality) {</div>
<div class="line"><span class="lineno">  159</span>            desired_stations.push_back(p.second.get_name());</div>
<div class="line"><span class="lineno">  160</span>        }</div>
<div class="line"><span class="lineno">  161</span>    }</div>
<div class="line"><span class="lineno">  162</span>    vector&lt;string&gt; souces = lines.find_sources(desired_stations);</div>
<div class="line"><span class="lineno">  163</span>    vector&lt;string&gt; targets = lines.find_targets(desired_stations);</div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">return</span> lines.mul_edmondsKarp(souces, targets);</div>
<div class="line"><span class="lineno">  165</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5cb0b662117e73cb53720f46b6fc3bf6" name="a5cb0b662117e73cb53720f46b6fc3bf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cb0b662117e73cb53720f46b6fc3bf6">&#9670;&#160;</a></span>T2_4maxArrive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T2_4maxArrive </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>destination</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reports the maximum number of trains that can simultaneously arrive at a given station, taking into consideration the entire railway grid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destination</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>maximum flow in a given station </dd></dl>
<dl class="section note"><dt>Note</dt><dd>we consider the source station as the station that does not have any incoming edges </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00178">178</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  178</span>                                                    {</div>
<div class="line"><span class="lineno">  179</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *dest = lines.findVertex(destination);</div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordtype">int</span> maxFlow = 0;</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="comment">// iterate over all vertices to find incoming and outgoing vertices</span></div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;v: lines.getVertexSet()) {</div>
<div class="line"><span class="lineno">  184</span>        <span class="keywordflow">if</span> (v != dest) {</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>            <span class="keywordtype">int</span> flow = lines.edmondsKarp(v-&gt;getId(), destination);</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>            <span class="comment">// Update the maximum flow if this vertex contributes to a higher maximum</span></div>
<div class="line"><span class="lineno">  189</span>            <span class="keywordflow">if</span> (flow &gt; maxFlow) {</div>
<div class="line"><span class="lineno">  190</span>                maxFlow = flow;</div>
<div class="line"><span class="lineno">  191</span>            }</div>
<div class="line"><span class="lineno">  192</span>        }</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>    }</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>    cout &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;e: dest-&gt;getIncoming()) {</div>
<div class="line"><span class="lineno">  198</span>        cout &lt;&lt; e-&gt;getOrig()-&gt;getId() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; e-&gt;getDest()-&gt;getId() &lt;&lt; <span class="stringliteral">&quot; : &quot;</span> &lt;&lt; e-&gt;getWeight() &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>    }</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    cout &lt;&lt; <span class="stringliteral">&quot;Max number of trains that can simultaneously arrive at &quot;</span> &lt;&lt; destination &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; maxFlow &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">return</span> maxFlow;</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d1b9e408842662e3c28697e4d9cc226" name="a6d1b9e408842662e3c28697e4d9cc226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d1b9e408842662e3c28697e4d9cc226">&#9670;&#160;</a></span>T3_1MinCost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T3_1MinCost </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the maximum amount of trains that can simultaneously travel between two specific stations with minimum cost for the company steps: *1 - find all possible paths between source and destination *2 - define the optimal path, that is, has minimum cost per train. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td></td></tr>
    <tr><td class="paramname">destination</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>maximum flow between two specific stations </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00209">209</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  209</span>                                                                 {</div>
<div class="line"><span class="lineno">  210</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *sourceVertex = lines.findVertex(source); <span class="comment">// set source vertex</span></div>
<div class="line"><span class="lineno">  211</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *destVertex = lines.findVertex(destination); <span class="comment">// set sink vertex</span></div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">if</span> (sourceVertex == <span class="keyword">nullptr</span> || destVertex == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  213</span>        cerr &lt;&lt; <span class="stringliteral">&quot;Source or destination vertex not found. Try again&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  215</span>    }</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    <a class="code hl_class" href="classGraph.html">Graph</a> graph = lines;</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>    std::vector&lt;Vertex *&gt; path;</div>
<div class="line"><span class="lineno">  220</span>    std::vector&lt;std::vector&lt;Vertex *&gt;&gt; allPaths;</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>    graph.findAllPaths(sourceVertex, destVertex, path, allPaths);</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    vector&lt;int&gt; maxFlows;</div>
<div class="line"><span class="lineno">  226</span>    vector&lt;int&gt; totalCosts;</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    cout &lt;&lt; <span class="stringliteral">&quot;All possible paths between &quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; destination &lt;&lt; <span class="stringliteral">&quot;:\n&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> path: allPaths) {</div>
<div class="line"><span class="lineno">  230</span>        <span class="keywordtype">int</span> minWeight = 10;</div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordtype">int</span> totalCost = 0; <span class="comment">// total cost of this path</span></div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i + 1 &lt; path.size(); i++) {</div>
<div class="line"><span class="lineno">  233</span>            std::cout &lt;&lt; path[i]-&gt;getId() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span>;</div>
<div class="line"><span class="lineno">  234</span>            <a class="code hl_class" href="classEdge.html">Edge</a> *e = graph.findEdge(path[i], path[i + 1]);</div>
<div class="line"><span class="lineno">  235</span>            cout &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; e-&gt;getWeight() &lt;&lt; <span class="stringliteral">&quot; trains, &quot;</span> &lt;&lt; e-&gt;getService() &lt;&lt; <span class="stringliteral">&quot; service) &quot;</span>;</div>
<div class="line"><span class="lineno">  236</span>            <span class="keywordflow">if</span> (e-&gt;getWeight() &lt; minWeight) {</div>
<div class="line"><span class="lineno">  237</span>                minWeight = e-&gt;getWeight();</div>
<div class="line"><span class="lineno">  238</span>            }</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>            <span class="comment">// according to the problem&#39;s specification, the cost of STANDARD service is 2 euros and ALFA PENDULAR is 4</span></div>
<div class="line"><span class="lineno">  241</span>            <span class="keywordflow">if</span> (e-&gt;getService() == <span class="stringliteral">&quot;STANDARD&quot;</span>) {</div>
<div class="line"><span class="lineno">  242</span>                totalCost += 2;</div>
<div class="line"><span class="lineno">  243</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;getService() == <span class="stringliteral">&quot;ALFA PENDULAR&quot;</span>) {</div>
<div class="line"><span class="lineno">  244</span>                totalCost += 4;</div>
<div class="line"><span class="lineno">  245</span>            }</div>
<div class="line"><span class="lineno">  246</span>        }</div>
<div class="line"><span class="lineno">  247</span>        maxFlows.push_back(minWeight);</div>
<div class="line"><span class="lineno">  248</span>        totalCosts.push_back(totalCost);</div>
<div class="line"><span class="lineno">  249</span>        cout &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; path[path.size() - 1]-&gt;getId() &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  250</span>        cout &lt;&lt; <span class="stringliteral">&quot;Max flow for this path: &quot;</span> &lt;&lt; minWeight &lt;&lt; <span class="stringliteral">&quot; trains. &quot;</span>;</div>
<div class="line"><span class="lineno">  251</span>        cout &lt;&lt; <span class="stringliteral">&quot;Total cost: &quot;</span> &lt;&lt; totalCost &lt;&lt; <span class="stringliteral">&quot; euros.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  252</span>        std::cout &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  253</span>    }</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <span class="comment">// find the path with the minimum cost per train</span></div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordtype">int</span> maxTrains = 0;</div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordtype">int</span> resCost;</div>
<div class="line"><span class="lineno">  258</span>    <span class="keywordtype">double</span> max_value = 10000;</div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; maxFlows.size(); ++i) {</div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordtype">double</span> costPerTrain = (double) totalCosts[i] / maxFlows[i];</div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">if</span> (costPerTrain &lt; max_value) {</div>
<div class="line"><span class="lineno">  262</span>            max_value = costPerTrain;</div>
<div class="line"><span class="lineno">  263</span>            maxTrains = maxFlows[i];</div>
<div class="line"><span class="lineno">  264</span>            resCost = totalCosts[i];</div>
<div class="line"><span class="lineno">  265</span>        }</div>
<div class="line"><span class="lineno">  266</span>    }</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>    cout &lt;&lt; <span class="stringliteral">&quot;Max number of trains that can travel between &quot;</span> &lt;&lt; source &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; destination</div>
<div class="line"><span class="lineno">  269</span>         &lt;&lt; <span class="stringliteral">&quot; with minimum cost&quot;</span></div>
<div class="line"><span class="lineno">  270</span>         &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; resCost &lt;&lt; <span class="stringliteral">&quot; euros): &quot;</span> &lt;&lt; maxTrains &lt;&lt; <span class="stringliteral">&quot; trains\n&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">return</span> maxTrains;</div>
<div class="line"><span class="lineno">  272</span>}</div>
<div class="ttc" id="aclassEdge_html"><div class="ttname"><a href="classEdge.html">Edge</a></div><div class="ttdef"><b>Definition:</b> <a href="classEdge.html#l00078">VertexEdge.h:78</a></div></div>
<div class="ttc" id="aclassGraph_html"><div class="ttname"><a href="classGraph.html">Graph</a></div><div class="ttdef"><b>Definition:</b> <a href="classGraph.html#l00015">Graph.h:15</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a53554354a91a10acf0a20ef933f1efd0" name="a53554354a91a10acf0a20ef933f1efd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53554354a91a10acf0a20ef933f1efd0">&#9670;&#160;</a></span>T4_1ReducedConectivity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T4_1ReducedConectivity </td>
          <td>(</td>
          <td class="paramtype">vector&lt; string &gt;&#160;</td>
          <td class="paramname"><em>unwantedEdges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the maximum number of trains that can simultaneously travel between two specific stations in a network of reduced connectivity. </p>
<p>Reduced connectivity is a subgraph of the original railway network. Takes any valid source and destination stations as input. </p><dl class="section note"><dt>Note</dt><dd>it allows a user to remove edges from the railway network. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unwantedEdges</td><td></td></tr>
    <tr><td class="paramname">s</td><td></td></tr>
    <tr><td class="paramname">t</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>maximum flow between two specific stations </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00275">275</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  275</span>                                                                                                       {</div>
<div class="line"><span class="lineno">  276</span>    <a class="code hl_class" href="classGraph.html">Graph</a> graph;</div>
<div class="line"><span class="lineno">  277</span>    ifstream inputFile1;</div>
<div class="line"><span class="lineno">  278</span>    inputFile1.open(R<span class="stringliteral">&quot;(../network.csv)&quot;);</span></div>
<div class="line"><span class="lineno">  279</span><span class="stringliteral">    </span><span class="keywordtype">string</span> line1;</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>    getline(inputFile1, line1);</div>
<div class="line"><span class="lineno">  282</span>    line1 = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">while</span> (getline(inputFile1, line1)) {</div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordtype">string</span> station_A;</div>
<div class="line"><span class="lineno">  286</span>        <span class="keywordtype">string</span> station_B;</div>
<div class="line"><span class="lineno">  287</span>        <span class="keywordtype">string</span> temp;</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordtype">int</span> capacity;</div>
<div class="line"><span class="lineno">  289</span>        <span class="keywordtype">string</span> service;</div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>        stringstream inputString(line1);</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>        getline(inputString, station_A, <span class="charliteral">&#39;;&#39;</span>);</div>
<div class="line"><span class="lineno">  295</span>        getline(inputString, station_B, <span class="charliteral">&#39;;&#39;</span>);</div>
<div class="line"><span class="lineno">  296</span>        getline(inputString, temp, <span class="charliteral">&#39;;&#39;</span>);</div>
<div class="line"><span class="lineno">  297</span>        capacity = stoi(temp);</div>
<div class="line"><span class="lineno">  298</span>        getline(inputString, service, <span class="charliteral">&#39;;&#39;</span>);</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>        graph.addVertex(station_A);</div>
<div class="line"><span class="lineno">  301</span>        graph.addVertex(station_B);</div>
<div class="line"><span class="lineno">  302</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; unwantedEdges.size(); i = i + 2) {</div>
<div class="line"><span class="lineno">  303</span>            <span class="keywordflow">if</span> (station_A == unwantedEdges[i] &amp;&amp; station_B == unwantedEdges[i + 1]) {</div>
<div class="line"><span class="lineno">  304</span>                flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>            }</div>
<div class="line"><span class="lineno">  307</span>        }</div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordflow">if</span> (flag) {</div>
<div class="line"><span class="lineno">  309</span>            graph.addEdge(station_A, station_B, capacity, service);</div>
<div class="line"><span class="lineno">  310</span>        }</div>
<div class="line"><span class="lineno">  311</span>        line1 = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  312</span>    }</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *source = graph.findVertex(s); <span class="comment">// set source vertex</span></div>
<div class="line"><span class="lineno">  315</span>    <a class="code hl_class" href="classVertex.html">Vertex</a> *sink = graph.findVertex(t); <span class="comment">// set sink vertex</span></div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>    <span class="comment">// Check if these stations even exist</span></div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">if</span> (source == <span class="keyword">nullptr</span> || sink == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  319</span>        std::cerr &lt;&lt; <span class="stringliteral">&quot;Source or sink vertex not found.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  320</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  321</span>    }</div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordtype">int</span> maxFlow = graph.edmondsKarp(s, t);</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">if</span> (maxFlow == 0) {</div>
<div class="line"><span class="lineno">  325</span>        cerr &lt;&lt; <span class="stringliteral">&quot;Stations are not connected. Try stationB to stationA instead. &quot;</span> &lt;&lt; t &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; s</div>
<div class="line"><span class="lineno">  326</span>             &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  327</span>    }</div>
<div class="line"><span class="lineno">  328</span>    cout &lt;&lt; <span class="stringliteral">&quot;maxFlow:\t&quot;</span> &lt;&lt; maxFlow &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  332</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a77d3e65a98af094685b18a8fe8829270" name="a77d3e65a98af094685b18a8fe8829270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77d3e65a98af094685b18a8fe8829270">&#9670;&#160;</a></span>T4_2Top_K_ReducedConectivity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CPheadquarters::T4_2Top_K_ReducedConectivity </td>
          <td>(</td>
          <td class="paramtype">vector&lt; string &gt;&#160;</td>
          <td class="paramname"><em>unwantedEdges</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides a report on the stations that are the most affected by each segment failure, i.e., the top-k most affected stations for each segment to be considered. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unwantedEdges</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>top-k most affected stations for each segment to be considered </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00335">335</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  335</span>                                                                             {</div>
<div class="line"><span class="lineno">  336</span>    <a class="code hl_class" href="classGraph.html">Graph</a> graph;</div>
<div class="line"><span class="lineno">  337</span>    ifstream inputFile1;</div>
<div class="line"><span class="lineno">  338</span>    inputFile1.open(R<span class="stringliteral">&quot;(../network.csv)&quot;);</span></div>
<div class="line"><span class="lineno">  339</span><span class="stringliteral">    </span><span class="keywordtype">string</span> line1;</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>    getline(inputFile1, line1);</div>
<div class="line"><span class="lineno">  342</span>    line1 = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    <span class="keywordflow">while</span> (getline(inputFile1, line1)) {</div>
<div class="line"><span class="lineno">  345</span>        <span class="keywordtype">string</span> station_A;</div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordtype">string</span> station_B;</div>
<div class="line"><span class="lineno">  347</span>        <span class="keywordtype">string</span> temp;</div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordtype">int</span> capacity;</div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordtype">string</span> service;</div>
<div class="line"><span class="lineno">  350</span>        <span class="keywordtype">bool</span> flag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>        stringstream inputString(line1);</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>        getline(inputString, station_A, <span class="charliteral">&#39;;&#39;</span>);</div>
<div class="line"><span class="lineno">  355</span>        getline(inputString, station_B, <span class="charliteral">&#39;;&#39;</span>);</div>
<div class="line"><span class="lineno">  356</span>        getline(inputString, temp, <span class="charliteral">&#39;;&#39;</span>);</div>
<div class="line"><span class="lineno">  357</span>        capacity = stoi(temp);</div>
<div class="line"><span class="lineno">  358</span>        getline(inputString, service, <span class="charliteral">&#39;;&#39;</span>);</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>        graph.addVertex(station_A);</div>
<div class="line"><span class="lineno">  361</span>        graph.addVertex(station_B);</div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; unwantedEdges.size(); i = i + 2) {</div>
<div class="line"><span class="lineno">  363</span>            <span class="keywordflow">if</span> (station_A == unwantedEdges[i] &amp;&amp; station_B == unwantedEdges[i + 1]) {</div>
<div class="line"><span class="lineno">  364</span>                flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  365</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  366</span>            }</div>
<div class="line"><span class="lineno">  367</span>        }</div>
<div class="line"><span class="lineno">  368</span>        <span class="keywordflow">if</span> (flag) {</div>
<div class="line"><span class="lineno">  369</span>            graph.addEdge(station_A, station_B, capacity, service);</div>
<div class="line"><span class="lineno">  370</span>        }</div>
<div class="line"><span class="lineno">  371</span>        line1 = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  372</span>    }</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>    vector&lt;pair&lt;int, int&gt;&gt; top_k;</div>
<div class="line"><span class="lineno">  376</span>    <span class="keyword">auto</span> length = lines.getVertexSet().size();</div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; length; ++i) {</div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordtype">string</span> destination = lines.getVertexSet()[i]-&gt;getId();</div>
<div class="line"><span class="lineno">  379</span>        <a class="code hl_class" href="classVertex.html">Vertex</a> *dest = lines.findVertex(destination);</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordtype">int</span> maxFlow1 = 0;</div>
<div class="line"><span class="lineno">  382</span>        <span class="keywordtype">int</span> maxFlow2 = 0;</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;v: lines.getVertexSet()) {</div>
<div class="line"><span class="lineno">  385</span>            <span class="keywordflow">if</span> (v != dest) {</div>
<div class="line"><span class="lineno">  386</span>                <span class="keywordtype">int</span> flow = lines.edmondsKarp(v-&gt;getId(), destination);</div>
<div class="line"><span class="lineno">  387</span>                <span class="keywordflow">if</span> (flow &gt; maxFlow1) {</div>
<div class="line"><span class="lineno">  388</span>                    maxFlow1 = flow;</div>
<div class="line"><span class="lineno">  389</span>                }</div>
<div class="line"><span class="lineno">  390</span>                flow = graph.edmondsKarp(v-&gt;getId(), destination);</div>
<div class="line"><span class="lineno">  391</span>                <span class="keywordflow">if</span> (flow &gt; maxFlow2) {</div>
<div class="line"><span class="lineno">  392</span>                    maxFlow2 = flow;</div>
<div class="line"><span class="lineno">  393</span>                }</div>
<div class="line"><span class="lineno">  394</span>            }</div>
<div class="line"><span class="lineno">  395</span>        }</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordtype">int</span> diff = maxFlow1 - maxFlow2;</div>
<div class="line"><span class="lineno">  398</span>        <span class="keyword">auto</span> p = pair(i, diff);</div>
<div class="line"><span class="lineno">  399</span>        top_k.push_back(p);</div>
<div class="line"><span class="lineno">  400</span>        cout &lt;&lt; <span class="stringliteral">&quot;a&quot;</span>;</div>
<div class="line"><span class="lineno">  401</span>    }</div>
<div class="line"><span class="lineno">  402</span>    std::sort(top_k.begin(), top_k.end(), [](<span class="keyword">auto</span> &amp;left, <span class="keyword">auto</span> &amp;right) {</div>
<div class="line"><span class="lineno">  403</span>        return left.second &gt; right.second;</div>
<div class="line"><span class="lineno">  404</span>    });</div>
<div class="line"><span class="lineno">  405</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) {</div>
<div class="line"><span class="lineno">  406</span>        cout &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot;-&quot;</span> &lt;&lt; lines.getVertexSet()[top_k[i].first]-&gt;getId() &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; top_k[i].second &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno">  407</span>    }</div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  409</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e2dfb8d7f8b5966187a74db5b965ad7" name="a4e2dfb8d7f8b5966187a74db5b965ad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e2dfb8d7f8b5966187a74db5b965ad7">&#9670;&#160;</a></span>test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CPheadquarters::test </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CPheadquarters_8cpp_source.html#l00105">105</a> of file <a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span>                          {</div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordtype">int</span> flow = lines.edmondsKarp(lines.getVertexSet()[324]-&gt;getId(), lines.getVertexSet()[507]-&gt;getId());</div>
<div class="line"><span class="lineno">  107</span>}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="CPheadquarters_8h_source.html">CPheadquarters.h</a></li>
<li><a class="el" href="CPheadquarters_8cpp_source.html">CPheadquarters.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCPheadquarters.html">CPheadquarters</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
